import{a as h}from"./chunk-OBPBYJ6A.js";import{a as l,b as d}from"./chunk-ZO4JBRXK.js";import{C as n,V as c,Y as u,ca as a,p,s as i}from"./chunk-SPCE6MV4.js";var m={headers:new l({"Content-Type":"application/json",Authorization:"my-auth-token"})},f=class s{_http=a(d);url=h.apiUrl;errorMessage;getProducts(){return this._http.get(`${this.url}/products`).pipe(i(r=>r.data.filter(t=>t.isDeleted!==1).slice(0,10)),c(r=>{}),n(this.handleError))}getProduct(r){let t=`${this.url}/products/${r}`;var o=this._http.get(t).pipe(c(e=>{}),i(e=>e.data),n(this.handleError));return o}createProduct(r){let t=`${this.url}/products`,o=JSON.stringify(r);var e=this._http.post(t,o,m);return console.log(t),e}updateProduct(r,t){let o=`${this.url}/products/${t}`,e=JSON.stringify(r);console.log(o);var P=this._http.put(o,e,m);return P}deleteProduct(r){let t=`${this.url}/products/${r}`;var o=this._http.delete(t).subscribe({next:e=>{console.log("Delete successful")},error:e=>{this.errorMessage=e.message,console.error("There was an error!",e)}})}handleError(r){return console.error(r),p(()=>r||"Server error")}static \u0275fac=function(t){return new(t||s)};static \u0275prov=u({token:s,factory:s.\u0275fac,providedIn:"root"})};export{f as a};
